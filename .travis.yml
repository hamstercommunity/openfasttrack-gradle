language: java
sudo: false
jdk:
  - oraclejdk8

addons:
  sonarqube:
    token:
      secure: e2kcU0qD9f9zisUuhc9gszVZPV+gQQwqzOqsNXSY3EbrOnwgMhL0h+4Q9vGXe2FDC4sEgpxnxUoCGuKNCHQSiGmiEKJQ3VjrNgPfsXLOC6M+4bwiykuy2LjD9j6dLctNvV9cUqN+BUIYcJOeqQNMFe7BrVuGSsR+Sb5yYbi3wiCrBw3mBQIxyH9GOQMDrKwExuKt3vJeTaLJzzy0EIVivNzxznqWrD30++gfMD9q7e7glGcQbqvdXs+XFShZkU7lwNThRMKx+8lVtTeg2nPSGFGvq1HHaPKvMaei+yEzTWLPd4tzSWpRIZJ8k4YjMz54D0uhKRzn1Iys7WUkRFp/QuTr+tTGiSDdMFHxfa4Afcq4GJ/AjPYv63iXtn42/v658aPft9py3PjJzUrqtsMN1lYOCw+00BFyCNitRB3YvfdM2reFygp7RE6ZiWsIYI1Uv7WY1mUk5jsLm2MMBm24U7rR8mgSP/A0Avh1kynMzZMx6bu0Br9WNtBngf+vRvLFt9/lzkGhxRhP3UmLU2QwRH8j86c3LvmBgb6hPoqFf1HoF8qW1cGaDuBuPUm9a/ilyttAFKDd5zDv7Sa2GS714+PCDg4WZllhgTCYnRObqRV7BWD3yK7Y7b5L3X1QmMbqW4MFGK+hshUsK6WBS82J/UVUbfRO06jAv6I7IRg5jfM=
    branches:
      - master
      - develop      

script:
  - ./gradlew sonarqube
before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
    - $HOME/.m2/repository/
    - $HOME/.sonar/cache/
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
